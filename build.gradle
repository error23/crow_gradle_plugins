allprojects {
	repositories {
		mavenCentral()
		mavenLocal()
	}
}

subprojects {

	apply plugin: 'maven-publish'

	plugins.withId('java') {
		sourceCompatibility = JavaLanguageVersion.of(javaVersion)
		targetCompatibility = JavaLanguageVersion.of(javaVersion)
		encoding = "$encoding"
	}
	plugins.withId('kotlin') {
		kotlin {
			jvmToolchain {
				languageVersion.set(JavaLanguageVersion.of(javaVersion))
			}
		}
	}
	tasks.withType(JavaCompile).configureEach { t ->
		t.options.encoding = "$encoding"
	}
	tasks.withType(Javadoc).configureEach { t ->
		t.options.encoding = "$encoding"
	}
}
